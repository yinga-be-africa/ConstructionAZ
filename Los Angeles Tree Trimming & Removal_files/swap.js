/*! swap.js | Copyright Â© 2011-2023 CallRail Inc. | License: www.callrail.com/legal */!function(){"use strict";var Wrappers=function(){function e(){}return e.documentReferrer=function(){return document.referrer},e.documentURL=function(){return document.URL},e.documentCookie=function(e){return e?document.cookie=e:document.cookie},e.isDebug=function(){var e;return(null===(e=window.CallTrkSwap)||void 0===e?void 0:e._isDebug)||!1},e.windowLocation=function(){return window.location},e}(),Debug=function(){function e(){}return e._debugEnabled=function(){return!!Wrappers.windowLocation().href.match(/crl?dbg/)},e.doneSwaps={},e.foundTargets=[],e}(),Polyfills=function(){function e(){}return e.jsonify=function(e){var r=Array.prototype.toJSON;if(!r)return JSON.stringify(e);delete Array.prototype.toJSON;var t=JSON.stringify(e);return Array.prototype.toJSON=r,t},e.contains=function(r,t){return e.indexOf(r,t)>-1},e.indexOf=function(e,r){if(e.indexOf)return e.indexOf(r);for(var t=0;t<e.length;t++)if(e[t]===r)return t;return-1},e.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e.documentReady=function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})},e.hasClass=function(e,r){return e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className)},e.isEmptyObject=function(e){for(var r in e)return!1;return!0},e.assign=function(e,r){for(var t in r)e[t]=r[t]},e}(),Storage=function(){function e(){}return e.hasCookie=function(r){return null!=Wrappers.documentCookie()&&!(e.cookieValues(r).length<1)},e.cookieValues=function(e){for(var r=e+"=",t=Wrappers.documentCookie().split(";"),n=[],a=0;a<t.length;a++){for(var o=t[a];" "===o.charAt(0);)o=o.substring(1,o.length);0===o.indexOf(r)&&n.push(unescape(o.substring(r.length,o.length)))}return n},e.setItem=function(r,t){return r="calltrk-"+r,t===undefined?window.localStorage.removeItem(r):window.localStorage.setItem(r,Polyfills.jsonify(t)),e.getItem(r)},e.getItem=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=0;t<e.length;t++){var n="calltrk-"+e[t],a=window.localStorage.getItem(n);if(a)return JSON.parse(a)}return null},e.removeItem=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=0;t<e.length;t++){var n="calltrk-"+e[t];window.localStorage.removeItem(n)}return null},e}(),Session=function(){function e(){}return e.generateUUID=function(){var e=window.crypto||window.msCrypto;return e&&e.getRandomValues?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(r){var t=parseInt(r,10);return(t^e.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)})},e.hasWordpressCookies=function(){return window.crwpVer>=1},e.wpProxy=function(){return 2===window.crwpVer},e.proxyPath=function(e){var r;try{r=new URL(e)}catch(t){r=document.createElement("a"),r.href=e}return"/index.php?rest_route=/calltrk/sessions"+r.pathname},e.crossSubdomain=function(){var ns=CallTrk.firstNamespace();return ns&&ns.cross_subdomain},e.cookieDuration=function(){return CallTrk.firstNamespace().cookie_duration},e.isMulti=function(){return!!CallTrk.firstNamespace().multiswap_id},e.namespaceIds=function(){var e=[];return CallTrk.eachNamespace(function(ns){return e.push(ns.id)}),e},e.nearestTLD=function(){if(CallTrkSwap._nearestTLD)return CallTrkSwap._nearestTLD;var r=Wrappers.documentCookie(),t=Wrappers.windowLocation().hostname,n=t.split(".");if(""===t)return"";for(var a=n.length-1;a>=0;--a){var o=n.slice(a).join(".");if(e.createCookie("calltrk_nearest_tld",o,3600,o),r!==Wrappers.documentCookie())return e.eraseCookie("calltrk_nearest_tld",o),CallTrkSwap._nearestTLD=o,o}},e.createCookie=function(r,t,n,a){var o="";if(null==n&&(n=e.cookieDuration()),n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()}var s=r+"="+escape(t)+o+"; path=/";e.crossSubdomain()&&!1!==a&&!a&&(a=e.nearestTLD()),a&&(s+="; domain="+a),s+="; samesite=Lax";var c=Storage.getItem(r);return c&&c==t?Wrappers.documentCookie(s):Storage.hasCookie(s)?Storage.setItem(r,t):(Storage.setItem(r,t),Wrappers.documentCookie(s)),s},e.eraseCookie=function(r,t){e.createCookie(r,"",-1,t),Storage.removeItem(r)},e.crDeleteOldCookies=function(){e.eraseCookie("calltrk_referrer"),e.eraseCookie("calltrk_landing"),e.eraseCookie("calltrk_session_id");var r=document.cookie.match(/calltrk_session_swap_numbers_(\d+)=/g);if(r)for(var t=0;t<r.length;++t){var n=r[t],a=/[0-9]+/g,o=(n.match(a)||[])[0];e.eraseCookie("calltrk_session_id_"+o),e.eraseCookie("calltrk_session_swap_numbers_"+o)}},e.readCookie=function(r){var t=Storage.getItem(r),n=Storage.cookieValues(r);return n.length<=1&&!t?(Storage.setItem(r,n[0]),n[0]||null):t?(0===n.length&&e.createCookie(r,t),t):(e.crossSubdomain()?e.eraseCookie(r,!1):e.eraseCookie(r,e.nearestTLD()),n=Storage.cookieValues(r),n[0]||null)},e.getSessionID=function(r){if(!r){if(CallTrkSwap._session_id)return CallTrkSwap._session_id;r="calltrk_session_id"}var t=e.readCookie(r);return t||CallTrk.eachNamespace(function(ns){t||(t=e.readCookie("calltrk_session_id_"+ns.id.toString()))}),t||(t=e.generateUUID(),e.createCookie(r,t)),CallTrkSwap._session_id=t,t},e.getFormCaptureCookie=function(r){if(!r){if(e._fcid)return e._fcid;r="calltrk_fcid"}var t=e.readCookie(r);return t||(t=e.generateUUID()),e.createCookie(r,t),e._fcid=t,t},e}(),Urls=function(){function e(){}return e.getCurrentReferrer=function(){var r=e.getURLParameter("utm_referrer");return r||(r=Wrappers.documentReferrer()),r||(r="direct"),r},e.getReferrerKey=function(r,t){var n;r=r||"direct";var a=/utm_medium=([cp]pc|paid_social|paid|.*_ad.*)/i;if(t.match(/ndclid=/i))n="nextdoor_paid";else if(r.match(/doubleclick/i)||t.match(/dclid=|wbraid=|gbraid=/i))n="google_paid";else if(r.match(/google/i)&&!r.match(/mail\.google\.com/i)){if(t.match(/gclid=/i))return"google_paid";n=r.match(/googleadservices/i)||t.match(/utm_(medium|source)=[cp]pc/i)||t.match(/(matchtype|adposition)=/i)?"google_paid":"google_organic"}else n=t.match(/gclid=/i)?r.match(/(\/|\.)youtube\./i)||t.match(/utm_source=.*youtube.*/i)?"youtube_paid":t.match(/msclkid=/i)?"bing_paid":"google_paid":t.match(/msclkid=/i)?r.match(/(\/|\.)duckduckgo\./i)||t.match(/utm_source=.*duckduckgo.*/i)?"duckduckgo_paid":"bing_paid":r.match(/(\/|\.)bing\./i)||t.match(/utm_source=.*bing.*/i)?t.match(a)||t.match(/msclkid=/i)?"bing_paid":"bing_organic":r.match(/msn\.com/i)?"bing_paid":r.match(/yahoo/i)&&!r.match(/mail\.yahoo\.com/i)?t.match(a)?"yahoo_paid":"yahoo_organic":t.match(/fb_ad_id=/i)?r.match(/(\/|\.)instagram\./i)||t.match(/utm_source=.*instagram.*/i)?"instagram_paid":"facebook_paid":t.match(/(fbclid=)/i)&&r.match(/(\/|\.)instagram\./i)?t.match(a)?"instagram_paid":"instagram_organic":r.match(/(\/|\.)facebook\./i)||t.match(/(fbclid=|utm_source=.*facebook.*)/i)?t.match(a)?"facebook_paid":"facebook_organic":r.match(/(\/|\.)instagram\./i)||t.match(/utm_source=.*instagram.*/i)?t.match(a)?"instagram_paid":"instagram_organic":r.match(/(\/|\.)duckduckgo\./i)||t.match(/utm_source=.*duckduckgo.*/i)?t.match(a)?"duckduckgo_paid":"duckduckgo_organic":r.match(/(\/|\.)nextdoor\./i)||t.match(/utm_source=.*nextdoor.*/i)?t.match(a)?"nextdoor_paid":"nextdoor_organic":r.match(/(\/|\.)linkedin\./i)||t.match(/utm_source=.*linkedin.*/i)?t.match(a)?"linkedin_paid":"linkedin_organic":r.match(/(\/|\.)twitter\./i)||t.match(/utm_source=.*twitter.*/i)?t.match(a)?"twitter_paid":"twitter_organic":r.match(/(\/|\.)pinterest\./i)||t.match(/utm_source=.*pinterest.*/i)?t.match(a)?"pinterest_paid":"pinterest_organic":r.match(/(\/|\.)spotify\./i)||t.match(/utm_source=.*spotify.*/i)?t.match(a)?"spotify_paid":"spotify_organic":r.match(/(\/|\.)yelp\./i)||t.match(/utm_source=.*yelp.*/i)?t.match(a)||t.match(/utm_(medium|source|campaign)=yelp_ad/i)||t.match(/campaign_code=yelp_ad/i)?"yelp_paid":"yelp_organic":r.match(/(\/|\.)youtube\./i)||t.match(/utm_source=.*youtube.*/i)?t.match(a)?"youtube_paid":"youtube_organic":"direct"===r?t.match(a)&&t.match(/utm_source=.*google.*/i)?"google_paid":"direct":e.getReferrerDomain(r);return n},e.getReferrerDomain=function(e){var r=e.split("/")[2],t=r.split(".");return t.length>2?t[t.length-2]+"."+t[t.length-1]:r},e.getHostnameAndPath=function(){var e=document.createElement("a");e.href=Wrappers.windowLocation().href;var r=e.pathname;return 0!==r.indexOf("/")&&(r="/"+r),e.hostname+r},e.getURLParameter=function(e){var r="[?|&]"+e+"=([^&;]+?)(&|#|;|$)",t=new RegExp(r).exec(Wrappers.windowLocation().search)||[null,""];return decodeURIComponent(t[1].replace(/\+/g,"%20"))||null},e.urlContainsParam=function(e){var r="(\\?|&)"+e+"($|&|=)";return Wrappers.windowLocation().href.match(r)},e.param=function(r,t,n){if("string"==typeof r)return r;t||(t=[]);for(var a in r){var o=r[a];r.hasOwnProperty(a)&&o&&(n&&(a=n+"["+(Polyfills.isArray(r)&&!Polyfills.isArray(r[0])?"":a)+"]"),"object"!=typeof o?t.push(encodeURIComponent(a)+"="+encodeURIComponent(o)):e.param(o,t,a))}return n?undefined:t.join("&")},e}(),Dom=function(){function e(){}return e.injectCss=function(){var e=document.documentElement,r="crjs";e.classList?e.classList.add(r):e.className+=" "+r;var t=document.createElement("style");t.setAttribute("type","text/css"),t.textContent!==undefined&&(t.textContent=".crjs .phoneswap { visibility: hidden; }");var n=document.querySelector("head");n&&n.appendChild(t)},e.domEach=function(e,r){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)r(t[n])},e.recurseDOM=function(r,t,n){for(var a=n||r,o=1;a;){var i=null;!1!==t(a)&&a.nodeType===o&&(i=a.firstChild),a.nextSibling&&a!==r&&e.recurseDOM(r,t,a.nextSibling),a=i}},e.traverseDOM=function(r,t){var n=["src","srcset","title","phone"],a=/(\bclk[ng]\/(sms|tel|imessage))|(^(sms|tel|imessage))/i,o=function(e,t,n){var a;a="undefined"==typeof getComputedStyle?e.currentStyle:getComputedStyle(e);var o=a[t]||n&&a[n];if(o){var i=r(o);null!=i&&(e.style[t]=i)}},i=function(e,t){var n=e.getAttribute(t);if(n){var a=r(n,t);null!=a&&e.setAttribute(t,a)}},s=function(e,r){for(var t=0;t<e.length;t++)i(r,e[t])},c=function(e){var r=e.getAttribute("href");r&&r.match(a)&&i(e,"href")};e.domEach(".cr_image, .cr_image *",function(e){o(e,"background"),o(e,"backgroundImage")}),e.recurseDOM(t,function(e){switch(e.nodeType){case 1:if(["SCRIPT","NOSCRIPT"].includes(e.tagName)||e.hasAttribute("data-calltrk-noswap"))return!1;s(n,e),c(e);break;case 3:var t=r(e.nodeValue);null!=t&&(Wrappers.isDebug()&&(e.parentNode.className+=" calltrk-swap-occurred"),e.nodeValue=t)}})},e.makePhoneSwapVisible=function(){e.domEach(".phoneswap",function(e){e.style.visibility="visible"})},e.domTargets=function(r){var t,n,a=[],o=/\D/g;return e.traverseDOM(function(e){t=CallTrkSwap.stringTargets(e);for(var r=0;r<t.length;r++)n=t[r].replace(o,""),n.length>10&&(n=n.slice(n.length-10)),-1===Polyfills.indexOf(a,n)&&a.push(n);CallTrk.eachNamespace(function(ns){ns.exactTargetsIn(e,function(e){a.push(e)})})},r),a},e.startObserving=function(){e.observer||"undefined"==typeof MutationObserver||(e.observer=new MutationObserver(e.mutationCallback),e.observer.observe(document.body,{childList:!0,subtree:!0}))},e.stopObserving=function(){e.observer&&(e.observer.disconnect(),e.observer=undefined)},e.mutationCallback=function(r){for(var t=CallTrk.firstNamespace().session_observer,n=!1,a=0;a<r.length;a++)for(var o=r[a],i=0;i<o.addedNodes.length;i++){var s=o.addedNodes[i];CallTrkSwap.startSourceSwap(s),t&&(n=n||e.domTargets(s).length>0)}t&&n&&CallTrkSwap.checkSessionSwap(!1)},e.visibleParent=function(){var e;try{if(window.self===window.parent||window.self.document===(null===(e=window.top)||void 0===e?void 0:e.document))return!1}catch(e){return!1}return!0},e.waitingParent=function(){try{if("loading"===window.parent.document.readyState)return!0}catch(e){return!1}return!1},e.iframeAwareReady=function(r){e.readyRan=!1;var t=function(){e.readyRan||(e.readyRan=!0,Polyfills.documentReady(r))};if(!e.visibleParent()||!e.waitingParent())return t();window.addEventListener("message",function(e){"calltrkReady"===e.data&&t()}),"loading"!==window.parent.document.readyState&&t(),setTimeout(t,2e3)},e.whenPageVisible=function(e){"prerender"!==document.visibilityState?e():document.addEventListener&&document.addEventListener("visibilitychange",e,!1)},e.iframeConflict=function(r){if(!e.visibleParent())return!1;var t=window.top&&window.top.CallTrk&&window.top.CallTrk._namespaces;return t&&t.indexOf(r.toString())>=0},e.broadcastReady=function(){var e=window.frames;if(0!==e.length)for(var r=0;r<e.length;r++)e[r].postMessage("calltrkReady","*")},e.getScript=function(e,r,t){var n=document.createElement("script");n.type="text/javascript",-1!==e.indexOf("?")?e+="&":e+="?",e+="t="+(new Date).getTime().toString(),e+="&"+Urls.param(r),Session.wpProxy()&&t&&(e=Session.proxyPath(e)),n.src=e,document.body.appendChild(n)},e}(),Helpers=function(){function e(){}return e.post=function(e){var r=new XMLHttpRequest;return r.open("POST",e),r},e.postScript=function(r,t,n){var a=e.post(r);a.setRequestHeader("Content-Type","text/plain"),a.setRequestHeader("Accept","application/json"),a.onload=function(){var e=JSON.parse(a.response);n(e)},a.send(Polyfills.jsonify(t))},e.postCookies=function(r,t,n){var a=e.post(r);a.setRequestHeader("Content-Type","application/json"),a.onload=function(){var e=a.status;n(e)},a.send(Polyfills.jsonify(t))},e.parseCookieResponse=function(e,r,t){204!==e&&(window.crwpVer=0,Session.createCookie("calltrk_referrer",r),Session.createCookie("calltrk_landing",t))},e.postWordpressCookies=function(r,t){var n={calltrk_referrer:r,calltrk_landing:t,calltrk_session_id:Session.getSessionID(),domain:Session.nearestTLD(),duration:CallTrk.firstNamespace().cookie_duration};e.postCookies("/index.php?rest_route=/Calltrk/v1/store",n,function(n){e.parseCookieResponse(n,r,t)})},e}(),IntegrationData=function(){function IntegrationData(){}return IntegrationData.getGoogleContentExperimentCookies=function(e){if(e.google_experiments!==undefined)return e.google_experiments;var r;if(r=Session.readCookie("calltrk_google_experiments")?Session.readCookie("calltrk_google_experiments"):"",Urls.getURLParameter("utm_expid")){var t=Urls.getURLParameter("utm_expid"),n=Urls.getHostnameAndPath(),a=t+","+n;r.indexOf(a)<0&&(r=""!==r?r+"|"+a:a),Session.createCookie("calltrk_google_experiments",r)}return e.google_experiments=r,r},IntegrationData.getIntegrationData=function(e){var r={},t={};return CallTrk.eachNamespace(function(ns){if(!e||Polyfills.indexOf(e,ns.id)>-1){var n=ns.getIntegrationData(t);Polyfills.assign(r,n)}}),r},IntegrationData.getInstanceIntegrationData=function(cookieCache,namespaceCookies,namespaceScripts){var params={google_content_cookies:IntegrationData.getGoogleContentExperimentCookies(cookieCache)};for(var reportName in namespaceCookies){var cookie=namespaceCookies[reportName],value=void 0;cookieCache[cookie]!==undefined?params[reportName]=cookieCache[cookie]:(value=Session.readCookie(cookie),cookieCache[cookie]=value,null!==value&&(params[reportName]=value))}for(var reportAs in namespaceScripts){var code=namespaceScripts[reportAs];try{var rc=eval(code);"object"!=typeof rc||Polyfills.isArray(rc)||(rc=Urls.param(rc)),params[reportAs]=rc}catch(e){}}return params},IntegrationData.integrationRetry=function(e){var r=IntegrationData.getIntegrationData(e),t=CallTrk.firstNamespace();Polyfills.isEmptyObject(r)||(r.uuid=Session.getSessionID(),Session.isMulti()||(r.ids=e),Dom.getScript(t.icapURL(),r))},IntegrationData}(),Replacer=function(){function e(){}return e.standardReplace=function(r,t,n){if(e._numberRegexCache||(e._numberRegexCache={}),!e._numberRegexCache[t]){var a=t.substring(0,3),o=t.substring(3,6),i=t.substring(6,10),s="(\\(?)"+a+"(\\))?"+e.CHAR_SEP+o+e.CHAR_SEP+i,c=n.substring(0,3),u=n.substring(3,6),l=n.substring(6,10),p="$1"+c+"$2$3"+u+"$4"+l;e._numberRegexCache[t]=[i,new RegExp(s,"g"),p]}var d=e._numberRegexCache[t];if(r.indexOf(d[0])>-1){if(Debug._isDebug){var f=r.match(d[1]);if(f){var g=f[0],m=g.replace(d[1],d[2]);Debug.doneSwaps[g]=m}}r=r.replace(d[1],d[2])}return r},e.replacementForPlainText=function(e,r){var t=r.substring(0,3),n=r.substring(3,6),a=r.substring(6,10),o="("+t+") "+n+"-"+a,i=t+"-"+n+"-"+a,s=t+"."+n+"."+a;return e=e.replace("###phone###",o),e=e.replace("###phone-dashes###",i),e=e.replace("###phone-dots###",s)},e.CHAR_SEP="([-. "+String.fromCharCode(160)+"]?)",e.NUM_REGEX=new RegExp("(\\(?)\\d{3}(\\))?"+e.CHAR_SEP+"\\d{3}"+e.CHAR_SEP+"\\d{4}\\b","g"),e.INTL_NUM_REGEX=/[(+]?[(+]?(?:[\d][ \-.()\u202F\u00A0]{0,2}){8,21}[\d]/g,e}(),NumberSwap=function(){function e(){}return e.adjustExactFormat=function(e){var r={advanced:{},simple:{}};for(var t in e)if(-1!==t.indexOf(",")){var n=t.split(","),a=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);if(Polyfills.isArray(e[t])){var i=Replacer.replacementForPlainText(o,e[t][0]);r.advanced[i]=["."===e[t][1][0]?a:o,e[t][1]]}else r.advanced[a]=[o,e[t]]}else r.simple[t]=e[t];return r},e}(),Performance=function(){function e(){}return e.perfData=function(){if(e._perfData)return e._perfData;if(e._perfData={},window.performance)try{var r=window.performance.getEntriesByType("resource").filter(function(e){return e.name.match(/swap\.js/)})[0];if(r){var t=r.encodedBodySize>0&&r.transferSize>0&&r.transferSize<r.encodedBodySize,n=0===r.duration;if(t||n)return{};var a=r.secureConnectionStart>0?r.secureConnectionStart:r.connectEnd;e._perfData={dns:r.domainLookupEnd-r.domainLookupStart,conn:a-r.connectStart,tls:r.connectEnd-a,wait:r.responseStart-r.requestStart,recv:r.responseEnd-r.responseStart}}}catch(e){}return e._perfData},e.reset=function(){e._perfData={}},e}(),PhoneNumbers=function(){function e(){}return e.defaultNumberFormat=function(e){return"object"==typeof e&&null!==e&&(e=e.national_string),e},e}(),Poll=function(){function e(){}return e.pollSessionURL=function(){var ns=CallTrk.firstNamespace();return ns.buildURL("poll_session",{multiswap_id:ns.multiswap_id,host:ns.swap_session_host,uuid:Session.getSessionID(),multiswap_token:ns.multiswap_token})},e.pollSession=function(){e.pollUnwatch();var ns=CallTrk.firstNamespace(),r={},t=Date.now(),n=.9*ns.session_poll_interval;setTimeout(e.pollWatch,ns.session_poll_interval),CallTrkSwap.lastPoll&&t-CallTrkSwap.lastPoll<n||(CallTrkSwap.lastPoll=t,Session.isMulti()||(r.ids=Session.namespaceIds()),Dom.getScript(e.pollSessionURL(),r))},e.pollInit=function(){var r=CallTrk.firstNamespace().session_poll_interval;CallTrkSwap.pollInitted||(CallTrkSwap.pollInitted=!0,setTimeout(e.pollWatch,r))},e.pollWatch=function(){document.addEventListener("mousemove",e.pollSession),document.addEventListener("keypress",e.pollSession),window.addEventListener("focus",e.pollSession)},e.pollUnwatch=function(){document.removeEventListener("mousemove",e.pollSession),document.removeEventListener("keypress",e.pollSession),window.removeEventListener("focus",e.pollSession)},e}(),ScanString=function(){function e(){}return e.scan=function(r,t,n,a,o){var i=a!==undefined,s=function(t,a){var o=e.intlStringTargets(r?r.trim():r);if(o.length>0){for(var i="",s=0;s<o.length;s++)i=a(n,o[s]);return i}return r},c=function(n,a){if("^"===t.charAt(0)){if("href"===o)return u(n.e164,a);var i=e.findFormat(a,n.formats);return null!==i?u(i,a):u(n.national_string,a)}return Replacer.standardReplace(r,t,n.national_string)},u=function(n,a){var o=a.replace(/\D/g,"");if(t.slice(1)===o.slice(o.length-8)){var i=new RegExp(e.escapeRegExp(a),"g");Debug._isDebug&&(Debug.doneSwaps[r]=n),r=r.replace(i,n)}return r};if(i||Polyfills.isArray(n)){if(r.indexOf(t)>-1){var l=Replacer.replacementForPlainText(i?a:n[0],i?n:n[1]);Debug._isDebug&&(Debug.doneSwaps[t]=l),r=r.replace(t,l)}}else r="object"==typeof n&&null!==n?s(n,c):"^"===t.charAt(0)?s(n,u):Replacer.standardReplace(r,t,n);return r},e.stringTargets=function(e){return e&&e.match(Replacer.NUM_REGEX)||[]},e.intlStringTargets=function(e){return e&&e.match(Replacer.INTL_NUM_REGEX)||[]},e.escapeRegExp=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},e.findFormat=function(r,t){for(var n in t)if(e.isSameFormat(r,t[n]))return n;return null},e.isSameFormat=function(e,r){return new RegExp(r.slice(1,-1)).test(e)},e}(),CallTrkSwap=function(){function e(e){Polyfills.assign(this,e),window.CallTrk.pushNamespace("namespace_"+this.id,this)}return Object.defineProperty(e.prototype,"_perfData",{get:function(){return Performance.perfData()},enumerable:!1,configurable:!0}),e.log=function(r,t){Wrappers.isDebug()&&(t||(t=r,r="swap"),e._log.push(r.toString()+": "+t))},e.prototype.log=function(r){e.log(this.id,r)},e.prototype.hasFormsOrChat=function(){return this.chat_or_form_exists},e.prototype.run=function(){this.referrer=this.getReferrer(),this.landing=this.getLanding(),this.referrer_key=Urls.getReferrerKey(this.referrer,this.landing),this.createReferrerAndLandingCookies(),this.applyTrumpLandingPage(),this.applyTrumpSources(),this.getWidgetScripts()},e.prototype.applyTrumpSources=function(){if(this.trump_sources){var r=Urls.getReferrerKey(Wrappers.documentReferrer(),Wrappers.documentURL());Polyfills.contains(["google_paid","yahoo_paid","bing_paid"],r)&&(Session.crDeleteOldCookies(),delete e._referrer,delete e._landing,e._referrerAndLandingCookiesCreated=!1,this.referrer=Wrappers.documentReferrer(),this.landing=Wrappers.documentURL(),this.createReferrerAndLandingCookies(),this.referrer_key=r)}},e.prototype.applyTrumpLandingPage=function(){if(this.trump_landing_param){var r=this.trump_landing_page_param;Urls.urlContainsParam(r)&&(Session.crDeleteOldCookies(),delete e._referrer,delete e._landing,e._referrerAndLandingCookiesCreated=!1,this.referrer=Wrappers.documentReferrer(),this.landing=Wrappers.documentURL(),this.createReferrerAndLandingCookies(),this.referrer_key=Urls.getReferrerKey(this.referrer,this.landing))}},e.prototype.exactTargetsIn=function(e,r){for(var t=0;t<this.session_exact_targets.length;t++){var n=this.session_exact_targets[t];e.indexOf(n)>=0&&r(this.session_exact_targets[t])}},e.swapCleanup=function(){delete Replacer._numberRegexCache,CallTrk.eachNamespace(function(ns){ns._storedSwapCache=null})},e.mergeStoredSwaps=function(e){var r=e.global;CallTrk.eachNamespace(function(ns){r&&ns.mergeStoredSwaps(r),e[ns.id]&&ns.mergeStoredSwaps(e[ns.id])})},e.mergeUnassignedSwaps=function(e){var r=e.global;CallTrk.eachNamespace(function(ns){r&&ns.mergeUnassignedSwaps(r),e[ns.id]&&ns.mergeUnassignedSwaps(e[ns.id])})},e.prototype.mergeStoredSwaps=function(e){var r=this.getStoredSwaps();for(var t in e)e[t]?r[t]=e[t]:r[t]&&delete r[t];this.assigns(r)},e.prototype.mergeUnassignedSwaps=function(e){var r=this.getUnassignedSwaps();for(var t in e)if(e[t]){var n=r.indexOf(t);n>-1&&r.splice(n,1)}else-1===r.lastIndexOf(t)&&r.push(t);this.unassigns(r)},e.prototype.getStoredSwaps=function(){var e=this.assigns();return e||{}},e.prototype.getUnassignedSwaps=function(){var e=this.unassigns();return e||[]},e.prototype.unassigns=function(r){return r?e._unassigns=r:e._unassigns},e.prototype.assigns=function(e){var r=this.id+"-assigns-"+Session.getSessionID();return e?Storage.setItem(r,e):Storage.getItem(r)},e.prototype.swapString=function(e,r){var t=this;return this._storedSwapCache||(this._storedSwapCache=NumberSwap.adjustExactFormat(this.getStoredSwaps())),["advanced","simple"].forEach(function(n){for(var a in t._storedSwapCache[n]){var o=t._storedSwapCache[n][a];e=ScanString.scan(e,a,o,undefined,r)}},this),e},e.startSourceSwap=function(r){r=r||document.body;var t=e.matchingSourceTrackers(),n=function(e,r){for(var n=e,a=0;a<t.length;a++){var o=PhoneNumbers.defaultNumberFormat(t[a].number);for(var i in t[a].advanced_swap_targets){var s=t[a].advanced_swap_targets[i];n=ScanString.scan(n,i,o,s,r)}o=t[a].number;for(var c=0;c<t[a].swap_targets.length;c++){var u=t[a].swap_targets[c];n=ScanString.scan(n,u,o,undefined,r)}}if(n!==e)return n};if(0!==t.length){var a=n(document.title);if(a&&(document.title=a),Dom.traverseDOM(n,r),window.Cufon)try{window.Cufon.refresh()}catch(e){}}},e.startSessionSwap=function(r,t){var n=this,a=["advanced","simple"],o=NumberSwap.adjustExactFormat(r),i=document.title;t=t||document.body,a.forEach(function(e){for(var r in o[e])i=ScanString.scan(i,r,o[e][r])},this);for(var s in CallTrk._namespaceObjs)i=CallTrk._namespaceObjs[s].swapString(i);if(i!==document.title&&(document.title=i),Dom.traverseDOM(function(e,r){var t=e;Debug._isDebug&&Debug.foundTargets.push(e),a.forEach(function(e){for(var n in o[e])t=ScanString.scan(t,n,o[e][n],undefined,r)},n);for(var i in CallTrk._namespaceObjs)t=CallTrk._namespaceObjs[i].swapString(t,r);if(t!==e)return t},t),e.swapCleanup(),window.Cufon)try{window.Cufon.refresh()}catch(e){}CallTrk.firstNamespace().mutation_observer&&Dom.startObserving(),Dom.makePhoneSwapVisible()},e.checkSessionSwap=function(r,t){t=t||document.body;var n={},a=null,o=!1,i=!1;if(CallTrk.eachNamespace(function(ns){ns.hasSessionTracker()&&(i=!0,a=ns.session_poll_interval,o=o||ns.session_polling)}),i){for(var s=Dom.domTargets(t),c=!1,u=r,l=0;l<s.length;l++)n[s[l]]=null,Debug._isDebug&&Debug.foundTargets.push(s[l]);CallTrk.eachNamespace(function(ns){var e=ns.checkSessionSwap(n);c=c||e}),c&&e.startSessionSwap({},t),CallTrk.eachNamespace(function(ns){u=u||ns.checkUnassignedSwaps(n)}),u&&(CallTrk.firstNamespace().getSecondScript(n,r),a&&o&&Poll.pollInit())}CallTrk.firstNamespace().mutation_observer&&Dom.startObserving(),Polyfills.isEmptyObject(n)&&Dom.makePhoneSwapVisible()},e.prototype.checkUnassignedSwaps=function(e){for(var r=this.getUnassignedSwaps(),t=this.assigns()||{},n=Object.keys(e),a=0;a<n.length;a++){var o=n[a];if(-1===r.indexOf(o)&&!(o in t))return!0}return!1},e.checkFormsOrChat=function(){var e=!1,r=!1;CallTrk.eachNamespace(function(ns){e=e||ns.hasSessionTracker(),r=r||ns.hasFormsOrChat()}),!e&&r&&CallTrk.firstNamespace().getSecondScript({},!0)},e.prototype.checkSessionSwap=function(e){var r=this.getStoredSwaps(),t=!1;for(var n in r){var a=r[n];if(!e[n])if(null===e[n])e[n]=a,t=!0;else if(-1!==n.indexOf(",")){var o=n.split(","),i=decodeURIComponent(o[0]);null===e[i]&&(delete e[i],e[n]=a,t=!0)}}return t},e.prototype.youTubeMatch=function(e){return"youtube_paid"===this.referrer_key&&Polyfills.contains(e,"google_paid")},e.prototype.hasReferrerMatch=function(e){if(this.youTubeMatch(e))return!0;if(Polyfills.contains(e,this.referrer_key))return!0;var r=!!this.referrer,t="direct"===this.referrer||""===this.referrer;if(r&&!t){var n=Urls.getReferrerDomain(this.referrer);return Polyfills.contains(e,n)}return!1},e.matchingSourceTrackers=function(){var e=[];return CallTrk.eachNamespace(function(ns){ns.is_bot||e.push.apply(e,ns.matchingSourceTrackers())}),e},e.prototype.matchingSourceTrackers=function(){for(var e=[],r=0;r<this.source_trackers.length;r++){var t=this.source_trackers[r];if("all"!==t.referrer_tracking_source){-1!==t.referrer_tracking_source.indexOf("landing")&&-1!==this.landing.indexOf(t.landing_tracking_source)?e.push(t):this.hasReferrerMatch(t.referrer_keys)&&e.push(t)}else e.push(t)}return e},e.prototype.domlessSessionSwap=function(r,t){if(!this.hasSessionTracker()||!r||0===r.length)return void t({});for(var n={},a=0;a<r.length;a++)n[r[a]]=null;e.swapCallback=t,this.getSecondScript(n,!1,!0)},e.prototype.hasSessionTracker=function(){return this.session_number_target_exists||this.session_exact_targets.length>0},e.swapEntry=function(){var r=e;r.startSwaps(),window.Squarespace&&window.Squarespace.onInitialize&&window.Squarespace.onInitialize(window.Y,function(){r.startSwaps()})},e.startSwaps=function(){document.removeEventListener&&document.removeEventListener("visibilitychange",e.swapEntry,!1),Dom.iframeAwareReady(function(){var r=e;Debug.doneSwaps={},Debug.foundTargets=[],r.startSourceSwap(),r.checkSessionSwap(!0),r.checkFormsOrChat(),Dom.broadcastReady()})},e.prototype.buildURL=function(e,r){var t=this.endpoints[e];for(var n in r)t=t.replace("$"+n,r[n]);return this.force_https&&!t.match(/https:/)&&(t="https:"+t),Session.wpProxy()&&(t=Session.proxyPath(t)),t&&t.indexOf("app.calltrk")&&t.indexOf("form_capture")&&(t=t.replace("app.calltrk","trk.calltrk")),t},e.prototype.getIntegrationData=function(e){var r=this.data_collection_config.cookies,t=this.data_collection_config.scripts;return IntegrationData.getInstanceIntegrationData(e,r,t)},e.prototype.icapURL=function(){return this.buildURL("integration_retry",{multiswap_id:this.multiswap_id,multiswap_token:this.multiswap_token,version:"12",host:this.swap_session_host})},e.prototype.swapSessionURL=function(){return this.buildURL("multiswap_session",{multiswap_id:this.multiswap_id,host:this.swap_session_host,version:"12",multiswap_token:this.multiswap_token})},e.prototype.createReferrerAndLandingCookies=function(){e._referrerAndLandingCookiesCreated||(Session.hasWordpressCookies()?Helpers.postWordpressCookies(this.referrer,this.landing):(Session.createCookie("calltrk_referrer",this.referrer),Session.createCookie("calltrk_landing",this.landing)),e._referrerAndLandingCookiesCreated=!0)},e.prototype.getReferrer=function(){if(e._referrer)return e._referrer;var r=Session.readCookie("calltrk_referrer");return r||(r=Urls.getCurrentReferrer()),e._referrer=r,r},e.prototype.getLanding=function(){if(e._landing)return e._landing;var r=Session.readCookie("calltrk_landing");return r||(r=Wrappers.documentURL()),e._landing=r,r},e.prototype.getSecondScript=function(r,t,n){var a={cid:Urls.getURLParameter("cid"),uuid:Session.getSessionID(),ref:this.getCurrentReferrer(),landing:Wrappers.documentURL(),user_agent:navigator.userAgent,record_pageview:t&&!Dom.iframeConflict(this.id),domless:n,swaps:[],all_formats:!0};Session.isMulti()||(a.ids=Session.namespaceIds());var o=IntegrationData.getIntegrationData();Polyfills.assign(a,o);var i={};for(var s in r){var c=r[s]||"",u=c;"object"==typeof c&&(u=c.national_string),u||(i[s]=null),a.swaps.push(s+"="+u)}if(Object.keys(i).length&&this.mergeUnassignedSwaps(i),"withCredentials"in new XMLHttpRequest){a.perf=Performance.perfData(),Performance.reset();var l=this.swapSessionURL().replace(/\.js$/,".json");Helpers.postScript(l,a,function(r){e.parseSessionSwap(r)})}else Dom.getScript(this.swapSessionURL(),a)},e.parseSessionSwap=function(r){!0===r.domless?e.swapCallback(r.a):!0===r.number_assignment&&(e.mergeStoredSwaps(r.a),e.mergeUnassignedSwaps(r.a),e.startSessionSwap(r.r)),Dom.makePhoneSwapVisible(),!0===r.integration_retry&&IntegrationData.integrationRetry(r.integration_retries)},e.prototype.getWidgetScripts=function(){var e=this,r=function(r){e.endpoints[r]&&-1===CallTrk.appendedScripts.indexOf(r)&&(Dom.getScript(e.endpoints[r],{},!0),CallTrk.appendedScripts.push(r))};Polyfills.documentReady(function(){e.endpoints.chat&&Dom.getScript(e.endpoints.chat,{},!0),e.endpoints.contact&&!e.endpoints.chat&&Dom.getScript(e.endpoints.contact,{},!0),e.endpoints.external_chats&&Dom.getScript(e.endpoints.external_chats,{},!0),r("custom_forms"),r("external_forms")})},e.firstNamespace=function(){return CallTrk.firstNamespace()},e.generateUUID=function(){return Session.generateUUID()},e.getSessionID=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.getSessionID.apply(Session,e)},e.readCookie=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.readCookie.apply(Session,e)},e.createCookie=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.createCookie.apply(Session,e)},e.eraseCookie=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.eraseCookie.apply(Session,e)},e.getFormCaptureCookie=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.getFormCaptureCookie.apply(Session,e)},e.getReferrerKey=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Urls.getReferrerKey.apply(Urls,e)},e.isMulti=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Session.isMulti.apply(Session,e)},e.stringTargets=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ScanString.stringTargets.apply(ScanString,e)},e.intlStringTargets=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ScanString.intlStringTargets.apply(ScanString,e)},e.whenPageVisible=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Dom.whenPageVisible.apply(Dom,e)},e.prototype.iframeConflict=function(){return Dom.iframeConflict(this.id)},e.prototype.getCurrentReferrer=function(){return Urls.getCurrentReferrer()},e.prototype.getHostnameAndPath=function(){return Urls.getHostnameAndPath()},e.prototype.getURLParameter=function(){
for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Urls.getURLParameter.apply(Urls,e)},e.prototype.getGoogleContentExperimentCookies=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return IntegrationData.getGoogleContentExperimentCookies.apply(IntegrationData,e)},e.prototype.postWordpressCookies=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Helpers.postWordpressCookies.apply(Helpers,e)},e.scanString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ScanString.scan.apply(ScanString,e)},e._log=[],e._unassigns=[],e._isDebug=Debug._isDebug,e.doneSwaps=Debug.doneSwaps,e.foundTargets=Debug.foundTargets,e.imports={CallTrk:CallTrk,Debug:Debug,Dom:Dom,Helpers:Helpers,IntegrationData:IntegrationData,NumberSwap:NumberSwap,Performance:Performance,PhoneNumbers:PhoneNumbers,Poll:Poll,Polyfills:Polyfills,Replacer:Replacer,ScanString:ScanString,Session:Session,Storage:Storage,Urls:Urls,Wrappers:Wrappers},e}(),CallTrk=function(){function e(){}return e.pushNamespace=function(ns,r){for(var t=e._namespaces,n=0;n<t.length;++n)if(t[n]===ns)return;t.push(ns),r&&(e._namespaceObjs[ns]=r)},e.eachNamespace=function(r){for(var t=e._namespaces,n=0;n<t.length;++n){var ns=t[n];r(e._namespaceObjs[ns])}},e.prototype.findNamespace=function(r){for(var t=e._namespaces,n=0;n<t.length;++n){var ns=t[n];if(r(e._namespaceObjs[ns]))return ns}return null},e.firstNamespace=function(){return e._namespaceObjs[e._namespaces[0]]},e.swap=function(e){Debug.doneSwaps={},Debug.foundTargets=[],e=e||document.body,CallTrkSwap.startSourceSwap(e),CallTrkSwap.checkSessionSwap(!1,e)},e.getSwapNumbers=function(r,t){Polyfills.isArray(r)||(r=[r]);for(var n=e.knownSwapAssignments(),a=e._namespaces[0],ns=e._namespaceObjs[a],o={},i=0;i<r.length;i++){var s=r[i];n[s]&&(o[s]=PhoneNumbers.defaultNumberFormat(n[s]),r.splice(i--,1))}return 0===r.length?t(o):ns.domlessSessionSwap(r,function(e){e=e&&e[ns.id]||{};for(var r in e)o[r]=PhoneNumbers.defaultNumberFormat(e[r]);t(o)}),o},e.knownSwapAssignments=function(){var r={};e.eachNamespace(function(ns){var e=ns.getStoredSwaps();for(var t in e)r[t]=e[t]});for(var t=CallTrkSwap.matchingSourceTrackers(),n=0;n<t.length;n++)for(var a=t[n],o=0;o<a.swap_targets.length;o++){var i=a.swap_targets[o];r[i]||(r[i]=a.number)}return r},e._namespaces=[],e._namespaceObjs={},e.appendedScripts=[],e.typescript=!0,e}();Dom.injectCss(),Performance.perfData(),Debug._isDebug=Debug._debugEnabled(),window.CallTrkSwap=window.CallTrkSwap||CallTrkSwap,window.CallTrk=window.CallTrk||CallTrk,console.log("swap.ts")}();!function(){new CallTrkSwap({id:861896215,cookie_duration:365,cross_subdomain:!0,session_poll_interval:6e4,session_polling:!0,session_observer:!1,access_key:"31c365df9148fd9ded04",form_capture_config:{enabled:!0,url_scope:"only",urls:["https://tree-removal.southbaytreeexperts.com/","https://tree-service.southbaytreeexperts.com/","https://tree-trimming.southbaytreeexperts.com/","https://westside.supremetreeexperts.com/tree-service/","https://westside.supremetreeexperts.com/tree-removal/","https://westside.supremetreeexperts.com/tree-trimming/","https://tree-trimming.huntingtonbeachtreeservice.com/","https://www.huntingtonbeachtreeremoval.com/","https://www.huntingtonbeachtreeservice.com/","https://www.santaanatreeremoval.com/","https://www.santaanatreeservice.com/","https://www.santaanatreeservice.com/trimming/","https://tree-removal.orangecountytreeservicecompany.com/","https://tree-trimming.orangecountytreeservicecompany.com/","https://www.orangecountytreeservicecompany.com/","https://orangecounty.supremetreeexperts.com/tree-removal/","https://orangecounty.supremetreeexperts.com/tree-service/","https://orangecounty.supremetreeexperts.com/tree-trimming/","https://orangecounty.supremetreeexperts.com/tree-trimming-1/"],source:null},trump_landing_param:!1,trump_landing_page_param:null,trump_sources:!1,mutation_observer:!0,is_bot:!1,force_https:!0,data_collection_config:{cookies:{Unbounce_ubvs:"ubvs",GoogleAnalytics__ga:"_ga",GoogleAnalytics___utma:"__utma",GoogleAnalytics___utmb:"__utmb",GoogleAnalytics___utmc:"__utmc",GoogleAnalytics___utmv:"__utmv",GoogleAnalytics___utmz:"__utmz",GoogleAnalytics___utmx:"__utmx",ga:"_ga",utma:"__utma",utmb:"__utmb",utmc:"__utmc",utmv:"__utmv",utmx:"__utmx",utmz:"__utmz"},scripts:{Unbounce_ub_page:"window.ub && ub.page && { visitorId: ub.page.visitorId, id: ub.page.id, name: ub.page.name, url: ub.page.url, variantId: ub.page.variantId }"}},source_trackers:[{id:980234814,referrer_tracking_source:"google_my_business",landing_tracking_source:null,referrer_keys:["google_my","google_business"],swap_targets:["9499296701"],advanced_swap_targets:{},number:{national:"(949) 541-2151",national_string:"9495412151",international:"+1 949-541-2151",e164:"+19495412151",formats:{}}}],endpoints:{multiswap_session:"//js.callrail.com/group/0/31c365df9148fd9ded04/12/swap_session.js",integration_retry:"//js.callrail.com/group/0/31c365df9148fd9ded04/12/icap.js",form_capture:"//app.callrail.com/companies/861896215/31c365df9148fd9ded04/12/form_capture.js",poll_session:"//js.callrail.com/group/0/31c365df9148fd9ded04/$uuid/poll.js",cr_form:"//js.callrail.com/forms/$formid",custom_forms:"//js.callrail.com/companies/861896215/custom_forms.js",external_forms:"//js.callrail.com/companies/861896215/external_forms.js"},swap_session_host:"js.callrail.com",session_number_target_exists:!0,session_exact_targets:[],chat_or_form_exists:!0}).run()}(),CallTrk.installed||(CallTrk.installed=!0,CallTrkSwap.whenPageVisible(function(){CallTrkSwap.swapEntry()}));