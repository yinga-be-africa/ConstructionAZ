var FILE_TYPE_TO_ICON_NAME={"image/gif":"rmzfa-file-image","image/jpeg":"rmzfa-file-image","image/png":"rmzfa-file-image","application/pdf":"rmzfa-file-pdf","application/msword":"rmzfa-file-word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"rmzfa-file-word","application/mspowerpoint":"rmzfa-file-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation":"rmzfa-file-powerpoint","application/msexcel":"rmzfa-file-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"rmzfa-file-excel","text/csv":"rmzfa-file-excel","audio/aac":"rmzfa-file-audio","audio/wav":"rmzfa-file-audio","audio/mpeg":"rmzfa-file-audio","audio/mp4":"rmzfa-file-audio","audio/ogg":"rmzfa-file-audio","video/x-msvideo":"rmzfa-file-video","video/mpeg":"rmzfa-file-video","video/mp4":"rmzfa-file-video","video/ogg":"rmzfa-file-video","video/quicktime":"rmzfa-file-video","video/webm":"rmzfa-file-video","application/gzip":"rmzfa-file-archive","application/zip":"rmzfa-file-archive","text/css":"rmzfa-file-code","text/html":"rmzfa-file-code","text/javascript":"rmzfa-file-code","application/javascript":"rmzfa-file-code","text/plain":"rmzfa-file-text","text/richtext":"rmzfa-file-text","text/rtf":"rmzfa-file-text"},AttachmentUtilities={fileTypeToIcon:function(e){return FILE_TYPE_TO_ICON_NAME[e]||"rmzfa-file"}};!function(p){var i=p;p(function(){p(document).bind("dragover",function(e){var t=p(e.target).closest(".upload-attachments");if(0!=t.length&&t.data("dzEle")){var n=t.data("dzEle"),a=window.dropZoneTimeout;a?clearTimeout(a):n.addClass("in");var o=!1,i=e.target;do{if(i===n[0]){o=!0;break}i=i.parentNode}while(null!=i);n.toggleClass("hover",o),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,n.removeClass("in hover")},100)}});var n=function(e){i(document).find(".upload-attachments .attachment-count").text(e),i(document).find(".upload-attachments .attachment-view").toggle(0<e)};i(document).on("attachments:remove",".upload-attachments",function(e,t){n(t.num)}),i(document).on("attachments:add",".upload-attachments",function(e,t){t.$li.find(".delete").prop("tabindex",1),n(t.num)});var e=function(){i(document).find(".upload-attachments.popup .attachment-box").addClass("in"),p(document.body).addClass("has-attachments-modal"),setTimeout(function(){var e=Math.min(i(document.body).outerHeight()-55,270);i(document).find(".upload-attachments.popup .attachments-list-wrap").css({"max-height":e+"px"}),i(document).find(".upload-attachments.popup #attachments-list").css({"max-height":e-20+"px"}),i(document).find(".upload-attachments.popup .attachment-box").addClass("fade")},10)},a=function(){i(document).find(".upload-attachments.popup .attachment-box").removeClass("fade"),setTimeout(function(){i(document).find(".upload-attachments.popup .attachment-box").removeClass("in")},10),i(document).find(".upload-attachments.popup textarea").focus(),p(document.body).removeClass("has-attachments-modal")};i(document).on("click",".upload-attachments.popup .attachment-box, .attachments-list-wrap .close",a),i(document).on("click",".upload-attachments.popup .attachments-list-wrap",function(e){return!!i(e.target).is("input.fileupload")&&(e.stopPropagation(),!0)}),i(document).on("attachments:remove",".upload-attachments.popup",function(e,t){0==t.num&&a()}),i(document).on("click",".upload-attachments .attachment-view",function(){p(this).closest(".popup").length?e():(i(document).find(".upload-attachments .attachment-box").toggle(),i(document.body).trigger("reamaze:manualresize"))});var o=function(l){var e=function(e,t){var n=l.find("#progress"),a=l.find("#progress .bar");if(t.loaded==t.total)n.css("display","none");else{var o=parseInt(t.loaded/t.total*100,10);n.css("display","block"),a.css("width",o+"%")}},t=function(e){var t=l.closest("form").find(":submit");e?p.each(t,function(e,t){var n=p(t),a=n.hasClass("disabled")||n.prop("disabled");n.data("isInitiallyDisabled",a)}):t=t.filter(function(e,t){return!p(t).data("isInitiallyDisabled")}),t.prop("disabled",e)},n=function(e,t){var n=p(document.createElement("li")),a=p(document.createElement("div")),o=p(document.createElement("span")),i=l.find("#attachments-list"),r="attachment-wrap";p(document.createElement("button")).addClass("delete btn-link").html("&times;").appendTo(n),a.addClass("preview-wrap spinner").appendTo(n),p(document.createElement("span")).addClass("rmzfa fas rmzfa-exclamation-circle attachment-error-indicator").appendTo(n),o.addClass("file-name").text("Uploading ...").appendTo(n),i.append(n.addClass(r));var d=i.children().not(".add-attachment").length;l.trigger("attachments:add",{$li:n,num:d}),l.closest("form").addClass("has-attachments"),p(document.body).addClass("has-attachments"),l.find("#fileupload").data("require-attachments")&&(fileupload.required=!1),t.context=n,t.submit()},a=function(e,t){console.log("Error uploading attachments"),console.log(e),console.log(t);var n=t.context,a=(n.find(".preview-wrap"),n.find(".file-name"));n.addClass("error"),l.closest("form").addClass("has-attachment-errors"),p(document.body).addClass("has-attachment-errors"),t.files&&0<t.files.length&&t.files[0]&&a.text(t.files[0].name).attr("title",t.files[0].name),l.trigger("attachments:fail",{$li:n})},o=function(e,t){var n=t.context,a=n.find(".preview-wrap"),o=n.find(".file-name"),i=t.result;Array.isArray(t.result)&&(i=t.result[0]);var r=i.file_file_name;a.removeClass("spinner"),1==i["image?"]?p(document.createElement("img")).attr("src",i.thumb_url).attr("title",r).addClass("preview").appendTo(a):p(document.createElement("i")).attr("title",r).addClass("preview icon rmzfa far "+AttachmentUtilities.fileTypeToIcon(i.file_content_type)).appendTo(a),o.text(r).attr("title",r),p(document.createElement("input")).attr({type:"hidden",name:l.data("attachment-input-name"),value:i.id}).appendTo(n)},i=function(){t(!0),l.trigger("attachments:start")},r=function(){t(!1),l.trigger("attachments:done")};l.on("click",".delete",function(){var e=p(this),t=e.closest("#attachments-list"),n=e.closest(".has-attachments");e.closest(".attachment-wrap").remove();var a=t.children().not(".add-attachment").length,o=t.children().not(".add-attachment").filter(".error").length;return 0==a&&(p(document.body).removeClass("has-attachments"),n.removeClass("has-attachments"),l.find("#fileupload").data("require-attachments")&&(fileupload.required=!0)),0==o&&(p(document.body).removeClass("has-attachment-errors"),n.removeClass("has-attachment-errors")),l.trigger("attachments:remove",{num:a}),!1});var d={dataType:"json",progressall:e,add:n,done:o,start:i,fail:a,stop:r,formData:[],dropZone:undefined,pasteZone:undefined,paste:function(e,t){if(e.delegatedEvent&&e.delegatedEvent.originalEvent&&e.delegatedEvent.originalEvent.clipboardData){for(var n=e.delegatedEvent.originalEvent.clipboardData.items,a=!1,o=0;!a&&o<n.length;o++)-1!=n[o].type.indexOf("image")&&(a=!0);var i=!1;for(o=0;!i&&o<n.length;o++){-1!=n[o].type.indexOf("rtf")&&(i=!0)}a&&i&&(t.files=[])}if(t.files)for(var o in t.files)"image/png"!=t.files[o].type||t.files[o].name||(t.files[o].name="upload.png")}},s=l.data("dropzone"),c=p(document).find(s);0<c.length&&(d.dropZone=c,l.data("dzEle",c));var u=l.data("pastezone"),f=p(document).find(u);0<f.length?d.pasteZone=f:d.pasteZone=l,l.find(".fileupload").each(function(e,t){p(t).fileupload(d),p(t).data("require-attachments")&&(t.required=!0),d.dropZone=null,d.pasteZone=null})},t=function(){p(document).find(".upload-attachments").each(function(e,t){var n=p(t);n.data("skip-fileupload")||(n.data("skip-fileupload",!0),new o(n))})};p(window).on("app:fileupload",t),p(window).bind("app:reinitjs",t),t()})}(window.jQuery),function(e,t){function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function l(e){if("keypress"!=e.type)return C[e.which]?C[e.which]:k[e.which]?k[e.which]:String.fromCharCode(e.which).toLowerCase();var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}function f(e,t){return e.sort().join(",")===t.sort().join(",")}function s(e){e=e||{};var t,n=!1;for(t in F)e[t]?n=!0:F[t]=0;n||(A=!1)}function c(e,t,n,a,o,i){var r,d,l=[],s=n.type;if(!L[e])return[];for("keyup"==s&&p(e)&&(t=[e]),r=0;r<L[e].length;++r)if(d=L[e][r],(a||!d.seq||F[d.seq]==d.level)&&s==d.action&&("keypress"==s&&!n.metaKey&&!n.ctrlKey||f(t,d.modifiers))){var c=!a&&d.combo==o,u=a&&d.seq==a&&d.level==i;(c||u)&&L[e].splice(r,1),l.push(d)}return l}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function o(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function i(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function u(e,t,n,a){_.stopCallback(t,t.target||t.srcElement,n,a)||!1===e(t,n)&&(o(t),i(t))}function r(e,t,n){var a,o=c(e,t,n),i={},r=0,d=!1;for(a=0;a<o.length;++a)o[a].seq&&(r=Math.max(r,o[a].level));for(a=0;a<o.length;++a)if(o[a].seq){if(o[a].level!=r)continue;d=!0,i[o[a].seq]=1,u(o[a].callback,n,o[a].combo,o[a].seq)}else d||u(o[a].callback,n,o[a].combo);var l="keypress"==n.type&&q;n.type!=A||p(e)||l||s(i),q=d&&"keydown"==n.type}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=l(e);t&&("keyup"!=e.type||O!==t?_.handleKey(t,a(e),e):O=!1)}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(){clearTimeout(E),E=setTimeout(s,1e3)}function h(){if(!x)for(var e in x={},C)95<e&&e<112||C.hasOwnProperty(e)&&(x[C[e]]=e);return x}function v(e,t,n){return n||(n=h()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(t,e,n,a){function o(e){return function(){A=e,++F[t],m()}}function i(e){u(n,e,t),"keyup"!==a&&(O=l(e)),setTimeout(s,10)}for(var r=F[t]=0;r<e.length;++r){var d=r+1===e.length?i:o(a||w(e[r+1]).action);b(e[r],d,a,t,r)}}function y(e){return"+"===e?["+"]:e.split("+")}function w(e,t){var n,a,o,i=[];for(n=y(e),o=0;o<n.length;++o)a=n[o],N[a]&&(a=N[a]),t&&"keypress"!=t&&T[a]&&(a=T[a],i.push("shift")),p(a)&&i.push(a);return{key:a,modifiers:i,action:t=v(a,i,t)}}function b(e,t,n,a,o){S[e+":"+n]=t;var i,r=(e=e.replace(/\s+/g," ")).split(" ");1<r.length?g(e,r,t,n):(i=w(e,n),L[i.key]=L[i.key]||[],c(i.key,i.modifiers,{type:i.action},a,e,o),L[i.key][a?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:a,level:o,combo:e}))}function z(e,t,n){for(var a=0;a<e.length;++a)b(e[a],t,n)}for(var x,E,C={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},k={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},N={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L={},S={},F={},O=!1,q=!1,A=!1,I=1;I<20;++I)C[111+I]="f"+I;for(I=0;I<=9;++I)C[I+96]=I;n(t,"keypress",d),n(t,"keydown",d),n(t,"keyup",d);var _={bind:function(e,t,n){return z(e=e instanceof Array?e:[e],t,n),this},unbind:function(e,t){return _.bind(e,function(){},t)},trigger:function(e,t){return S[e+":"+t]&&S[e+":"+t]({},e),this},reset:function(){return L={},S={},this},stopCallback:function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:r};e.Mousetrap=_,"function"==typeof define&&define.amd&&define(_)}(window,document),Mousetrap=function(){var t,e=Mousetrap,n=e.bind;return e.bind=function(){if("string"==typeof(t=arguments)[0]||t[0]instanceof Array)return n(t[0],t[1],t[2]);for(var e in t[0])t[0].hasOwnProperty(e)&&n(e,t[0][e],t[1])},e}(),function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(o){function e(){var e=window.getComputedStyle(o,null);"vertical"===e.resize?o.style.resize="none":"both"===e.resize&&(o.style.resize="horizontal"),n()}function a(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function i(){if(0!==o.scrollHeight){var e=a(o),t=document.documentElement&&document.documentElement.scrollTop,n=c(o);o.style.height=n+"px",r=o.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function n(){i();Math.round(parseFloat(o.style.height));var e=window.getComputedStyle(o,null),t="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):o.offsetHeight;if(d!==t){d=t;var n=f("autosize:resized");try{o.dispatchEvent(n)}catch(a){}}}if(o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!u.has(o)){var r=null,d=null,l=function l(){o.clientWidth!==r&&n()},s=function(t){window.removeEventListener("resize",l,!1),o.removeEventListener("input",n,!1),o.removeEventListener("keyup",n,!1),o.removeEventListener("autosize:destroy",s,!1),o.removeEventListener("autosize:update",n,!1),Object.keys(t).forEach(function(e){o.style[e]=t[e]}),u["delete"](o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",s,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",n,!1),window.addEventListener("resize",l,!1),o.addEventListener("input",n,!1),o.addEventListener("autosize:update",n,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",u.set(o,{destroy:s,update:n}),e()}}function a(e){var t=u.get(e);t&&t.destroy()}function o(e){var t=u.get(e);t&&t.update()}function c(e){null===h.parentNode&&document.body.appendChild(h);var t=d(e);if(null===t)return null;var n=t.paddingSize,a=t.borderSize,o=t.boxSizing,i=t.sizingStyle;Object.keys(i).forEach(function(e){h.style[e]=i[e]}),v(h),h.value=e.value||e.placeholder||"x";Infinity,Infinity;var r=h.scrollHeight;return"border-box"===o?r+=a:"content-box"===o&&(r-=n),r+2}function d(e){var n=window.getComputedStyle(e);if(null===n)return null;var t=m.reduce(function(e,t){return e[t]=n.getPropertyValue(t),e},{}),a=t["box-sizing"];return""===a?null:(s&&"border-box"===a&&(t.width=parseFloat(t.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px"),{sizingStyle:t,paddingSize:parseFloat(t["padding-bottom"])+parseFloat(t["padding-top"]),borderSize:parseFloat(t["border-bottom-width"])+parseFloat(t["border-top-width"]),boxSizing:a})}var i,r,u="function"==typeof Map?new Map:(i=[],r=[],{has:function g(e){return-1<i.indexOf(e)},get:function y(e){return r[i.indexOf(e)]},set:function w(e,t){-1===i.indexOf(e)&&(i.push(e),r.push(t))},"delete":function b(e){var t=i.indexOf(e);-1<t&&(i.splice(t,1),r.splice(t,1))}}),f=function f(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(z){f=function f(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function l(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function l(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t["default"]=l,e.exports=t["default"];var s=!!document.documentElement.currentStyle,p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden","overflow-y":"scroll","overflow-x":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],h=document.createElement("textarea"),v=function(t){Object.keys(p).forEach(function(e){t.style.setProperty(e,p[e],"important")})};v(h)}),window.frameId&&parent.Reamaze&&parent.Reamaze.Frames.Callbacks&&"function"==typeof parent.Reamaze.Frames.Callbacks[window.frameId]?parent.Reamaze.Frames.Callbacks[window.frameId]():jQuery(document).trigger("frameloaded");var version=1;